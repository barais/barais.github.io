<p>I am a fan of the <a href="http://jhipster.github.io/">JHipster</a> framework. Recently, through a discussion with <a href="http://people.irisa.fr/Jean-Marc.Jezequel/">Jean-Marc Jézéquel</a>, we decide to use it as a support for teaching advanced concepts in Software Engineering and Sofware Architecture at the University of Rennes 1 in a flip classroom.</p>

<!--more-->

<h1 id="jhipster">JHipster</h1>

<p>The <strong>goal</strong> of JHipster is to provide a framework for building Modern Web apps that have:</p>

<ul>
  <li>Beautiful design</li>
  <li>Stop waiting for pages to load</li>
  <li>Dynamic updates of page fragments</li>
</ul>

<p>These apps must be build using the latest HTML5/CSS3/JS technologies. 
Those websites should be delivered fast. Waiting 1 minute for your application to “deploy” is not acceptable.
Modern websites should be able to handle huge numbers of concurrent users. We need robust, high-performance application servers.</p>

<p>The goal of JHipster is to solve those issues through.</p>

<ul>
  <li>A beautiful front-end, with the latest HTML5/CSS3/JavaScript frameworks</li>
  <li>A robust and high-quality back-end, with the latest Java/Caching/Data access technologies</li>
  <li>All automatically wired up, with security and performance in mind</li>
  <li>And great developer tooling, for maximum productivity</li>
</ul>

<p>Even for simple applications, achieving this goal raises specific conerns to manage system complexity.</p>

<p>For achieving this goal, JHipster combines:</p>

<ul>
  <li>generative programming concepts (through YO),</li>
  <li>aspect oriented-concepts (through Spring)</li>
  <li>software product lines concepts</li>
  <li>Object relational mapping concepts (through JPA)</li>
  <li>Restful services</li>
  <li>Test Driven Development</li>
  <li>…</li>
</ul>

<p>through the following technologies</p>

<ul>
  <li>client side:
    <ul>
      <li>YEOMAN,</li>
      <li>GRUNT,</li>
      <li>BOWER,</li>
      <li>ANGULARJS,</li>
      <li>Karma,</li>
      <li>Bootstrap</li>
    </ul>
  </li>
  <li>server side:
    <ul>
      <li>MAVEN, SPRING (Dependency injection and AOP),</li>
      <li>SPRING MVC REST,</li>
      <li>SPRING DATA JPA,</li>
      <li>Spring security,</li>
      <li>liquidbase,</li>
      <li>caching techologies (Ehcache, HazelCast),</li>
      <li>Template mechanisms (Thymeleaf),</li>
      <li>Monitoring techiques,</li>
      <li>ready for cloud ;).</li>
    </ul>
  </li>
</ul>

<h1 id="spl-teaching-using-jhipster">SPL teaching using JHipster</h1>

<p>JHipster is a Yeoman generator. It can generate more than 10k  architecture types of project depending on different criteria. As a result, when you start to create a project, you must answer a set of questions to select the required features for your application.</p>

<p>To illustrate Software Product Line principle and the feature diagram notation, I build a  feature model for JHipster using Feature IDE and I create a generator for create the app automatically from eclipse or IntelliJ.</p>

<p>Here is a snapshot of the feature diagram. You can see the number of potential architecture types.</p>

<p><img src="../../../img/post/1.png" width="750px" /></p>

<p>Here is a snapshot of a configuration model you can define from FeatureIde.</p>

<p><img src="../../../img/post/2.png" width="750px" /></p>

<p>Behind the scene, I use xdotool to wrap the jhipster console when you define a first model.</p>

<p><code>bash
#extract of the shell script generated	
#!/bin/bash
xfce4-terminal -T jhipstergen -x yo jhipster &amp;
sleep 2
WID=`xdotool search --name "jhipstergen"`  
xdotool windowactivate $WID 
xdotool windowfocus $WID 
#appnam
xdotool type myapp
xdotool key "Return"
#package
xdotool type fr.irisa.jhipster
xdotool key "Return"
#Java Selection
#xdotool key Down
xdotool key "Return"
...
</code></p>

<p>The feature model, some config sample and the generator for jhipster are available <a href="https://github.com/barais/featureModelJHipster/">here</a>.</p>

<h1 id="model-driven-engineering-teaching-using-jhipster">Model-driven engineering teaching using JHipster</h1>

<p>Once you have created your application, you will want to create entities. For example, you might want to create an Car and a Person entity. For each entity, you will need:</p>

<ul>
  <li>A database table</li>
  <li>A Liquibase change set</li>
  <li>A JPA Entity</li>
  <li>A Spring Data JPA Repository</li>
  <li>A Spring MVC REST Controller, which has the basic CRUD operations</li>
  <li>An AngularJS router, a controller and a service</li>
  <li>An HTML view</li>
  <li>If you have several entities, you will likely want to have relationships between them. For this, you will need:
    <ul>
      <li>A database foreign key</li>
      <li>Specific JavaScript and HTML code for managing this relationship</li>
    </ul>
  </li>
</ul>

<p>The “entity” sub-generator will create all the necessary files, and provide a CRUD front-end for each entity.</p>

<p>Of course, the use of modelling techniques (UML) is confortable to create your business model.</p>

<p>I propose to use <a href="https://dashboard.genmymodel.com/">genmymodel</a> a great online uml tools with a support of <a href="https://eclipse.org/acceleo/">Acceleo</a> to define your own code generator that must be deployed on github.</p>

<p>I provide a <a href="https://github.com/barais/genmymodeljhipstergenerator">custom code generator</a> for JHipster (generating json file for entity).</p>

<p>You can easily use it directly from GenMyModel.</p>

<p><img src="../../../img/post/3.png" width="750px" />
<img src="../../../img/post/4.png" width="750px" />
<img src="../../../img/post/5.png" width="750px" /></p>

<p>You get an archive file that can be added to your app root folder. <img src="../../../img/post/6.png" width="750px" /></p>

<p>Next call the shell script.</p>

<p><code>bash
#to the folder root.
sh model.sh
</code></p>

<p>As a result, you can easily extend the feature diagram in adding your own custom generator.</p>

<p><code>bash
#to the folder root.
mvn spring-boot:run
#In an other console
grunt serve
</code></p>

<p>You obtain a clean runnable skeleton of your application. You can add services, refine restful services and create custom UI for your application.</p>

<p>The workflow is explained within a set of slides <a href="http://slides.com/olivierbarais/variability-modelling-and-model-driven-enginnering-a-tour-with-jhipster/">here</a>.</p>

<h1 id="software-architecture-teaching-using-jhipster">Software architecture teaching using JHipster</h1>
<p>To understand JHipster, developer must be familiar with</p>

<ul>
  <li>Maven, git jenkins</li>
  <li>Object-Relational Mapping (JPA and SpringDataJpa)</li>
  <li>Dependency Injection and Advanced Oriented Design (Spring Core)</li>
  <li>Http, Servlet and Rest architecture (Spring Rest)</li>
  <li>distributed development</li>
  <li>…</li>
</ul>

<p>The flip classroom will be a pretext to introduce these technologies and the software architecture principles.</p>

<h1 id="open-discussions-and-course-plan-to-refine">Open discussions and course plan (to refine)</h1>
<p>We would like to use JHipster for building flip classroom.</p>

<p>The course outline can be the following.</p>

<ul>
  <li>Practical work 1.</li>
</ul>

<p>Discover JHipster through documentation.</p>

<ul>
  <li>Course 1.</li>
</ul>

<p>Maven, git jenkins</p>

<ul>
  <li>Course 2.</li>
</ul>

<p>Object-Relational Mapping (JPA and SpringDataJpa)</p>

<ul>
  <li>Course 3</li>
</ul>

<p>Dependency Injection and Advanced Oriented Design (Spring Core)</p>

<ul>
  <li>Course 4</li>
</ul>

<p>Http, Servlet and Rest architecture (Spring Rest)</p>

<ul>
  <li>Course 5</li>
</ul>

<p>Aspect Oriented Programming (Spring AOP)</p>

<ul>
  <li>Course 6</li>
</ul>

<p>Model-Driven Engineering</p>

<ul>
  <li>Course 7</li>
</ul>

<p>Generative programming (Xtend, Spoon)</p>

<ul>
  <li>Course 8</li>
</ul>

<p>Software Product Line and Variability Engineering</p>

<ul>
  <li>Course 9</li>
</ul>

<p>Software Language Egineering (Internal DSL, external DSL, (and AngularJS directives ))</p>

<ul>
  <li>Course 10</li>
</ul>

<p>Web Enginneering (AngularJS, Web app testing)</p>

<h2 id="student-must-provide-the-follwing-projects">Student must provide the follwing projects</h2>

<ul>
  <li>
    <p>Project 1: Develop a complex app using JHipster</p>
  </li>
  <li>
    <p>Project 2: Create a subgenerator for Php synmfony, Android App, …</p>
  </li>
</ul>

<h1 id="videos">Videos</h1>
<p>I will provide a short video soon.</p>

