
<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Olivier Barais">
<link rel="author" href="https://plus.google.com/+OlivierBarais">
 
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<link rel="stylesheet" href="/assets/main.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<style>body {
    padding-top: 60px;
  }
  @media (max-width: 979px) {
    body {
      padding-top: 60px;
    }
  }
</style>

<title>Migrating From Hibernate To EclipseLink On JHipster</title>



<!-- Add custom CSS here -->

<!-- <link rel="shortcut icon" href="favicon.ico"> -->
<link rel="icon" href="/favicon.ico">


</head>

<body>

    	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
                <a class="navbar-brand" href="/">olivier.barais</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right navbar-ex1-collapse">
				<ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
					<li><a href="/publications/">Publications</a></li>
					<li><a href="/teaching/">Teaching</a></li>
                    <li><a href="/research/">Research</a></li>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/photos/">Photos</a></li>
                    <li><a href="/contact/">Contact</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>


    <div class="container">
        <div class="row">
            <div class="col-md-8">
                               <!-- the actual blog post: title/author/date/content -->
                <h1> Migrating From Hibernate To EclipseLink On JHipster </h1>
                    <p class="lead">by <a href="/contact/">Olivier Barais</a> &nbsp;&nbsp;&nbsp;
                        
                            <a href="/blog/categories/JHipster/"><span class="label label-primary">JHipster</span></a>
                            &nbsp;
                        
                            <a href="/blog/categories/Hibernate/"><span class="label label-primary">Hibernate</span></a>
                            &nbsp;
                        
                            <a href="/blog/categories/EclipseLink/"><span class="label label-primary">EclipseLink</span></a>
                            &nbsp;
                        
                            <a href="/blog/categories/Diversity/"><span class="label label-primary">Diversity</span></a>
                            &nbsp;
                        
                    </p>
                        <span class="glyphicon glyphicon-time"></span> Posted 2018.07.18 
                        
                            &mdash; Stockhoml, Sweden
                        

                <hr>
                
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#working-on-automatic-library-substitution">Working on automatic library substitution.</a>
<ul>
<li class="toc-entry toc-h3"><a href="#what-is-jsr">What is JSR?</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#step-1-change-your-dependencies">Step 1 Change your dependencies</a></li>
<li class="toc-entry toc-h2"><a href="#step-2-change-the-configuration-for-eclipselink">Step 2: Change the configuration for eclipselink</a>
<ul>
<li class="toc-entry toc-h3"><a href="#21-in-the-pomxml">2.1. In the pom.xml</a></li>
<li class="toc-entry toc-h3"><a href="#22-in-you-application-java-config-package">2.2. In you application Java config package</a></li>
<li class="toc-entry toc-h3"><a href="#23-in-your-spring-boot-configuration-file">2.3. In your spring boot configuration file</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#step-3-when-magic-disapear">Step 3: When magic disapear</a>
<ul>
<li class="toc-entry toc-h3"><a href="#problem-1-coupling-between-real-implementation-of-different-concerns">Problem 1: Coupling between real implementation of different concerns</a></li>
<li class="toc-entry toc-h3"><a href="#problem-2-uncomplete-common-interface-between-hibernate-and-eclipselink">Problem 2: Uncomplete common interface between Hibernate and EclipseLink</a></li>
<li class="toc-entry toc-h3"><a href="#problem-3-the-famous--hyrums-law">Problem 3: The famous  Hyrum’s law</a></li>
<li class="toc-entry toc-h3"><a href="#31-javautiltimeinstant-case">3.1 java.util.time.Instant case</a></li>
<li class="toc-entry toc-h3"><a href="#32-the-method-flush-case">3.2 The method flush case</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#lesson-learnt">Lesson learnt</a></li>
</ul><h2 id="working-on-automatic-library-substitution">
<a id="working-on-automatic-library-substitution" class="anchor" href="#working-on-automatic-library-substitution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working on automatic library substitution.</h2>

<p>We are currently working with Orange on a software diversification project. In this framework, we study the ability to automatically migrate a project from one dependency to another in order to understand the difficulties in practice. To understand these difficulties, we study a nominal case that should work perfectly. The replacement of an implementation of one JSR by another on a real project.</p>

<h3 id="what-is-jsr">
<a id="what-is-jsr" class="anchor" href="#what-is-jsr" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is JSR?</h3>

<p>The Java Community Process (JCP), established in 1998, is a formalized mechanism that allows interested parties to develop standard technical specifications for Java technology.  The JCP involves the use of Java Specification Requests (JSRs) – the formal documents that describe proposed specifications and technologies for adding to the Java platform. A JSR defines a common contract for a given concern in the Java community.</p>

<p>Among the JSRs, we study the use of the <a href="https://jcp.org/en/jsr/detail?id=338">JSR 338: JPA</a>. This JSR provides a common framework for relational database access using relational object mapping techniques in Java. Many libraries implement this JSR including the famous <a href="http://hibernate.org/">hibernate</a> library or the no less known <a href="http://www.eclipse.org/eclipselink/">eclipselink</a>. On top of this API, higher level libraries like <a href="http://projects.spring.io/spring-data/">Spring-data</a> have been built and are commonly used in enterprise projects.</p>

<p>From this common contract, the promise is to be able to change implementation at relatively low cost.</p>

<p><strong>Let us have a look at the reality</strong></p>

<!--more-->

<p>To get a project that use spring-data, we start using <a href="https://www.jhipster.tech/">JHipster</a> code generator. JHipster is a development platform to generate, develop and deploy Spring Boot + Angular/React Web applications and Spring microservices.  The goal is to generate for you a complete and modern Web app or microservice architecture, unifying:</p>

<ul>
  <li>A high-performance and robust Java stack on the server side with Spring Boot</li>
  <li>A sleek, modern, mobile-first front-end with Angular, React and Bootstrap</li>
  <li>A robust microservice architecture with the JHipster Registry, Netflix OSS, the ELK stack and Docker</li>
  <li>A powerful workflow to build your application with Yeoman, Webpack and Maven/Gradle</li>
</ul>

<p>We generate an application for employees management that are based on a domain model with 9 entities. You can find the model <a href="https://start.jhipster.tech/jdl-studio/">here</a></p>

<p>We generate the app and we try to do the migration. Let us have a look on the manual operation to do to get a working application.</p>

<h2 id="step-1-change-your-dependencies">
<a id="step-1-change-your-dependencies" class="anchor" href="#step-1-change-your-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 1 Change your dependencies</h2>

<p>By default, <em>spring-boot-starter-data-jpa</em> uses hibernate.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>In your pom.xml, we have to exclude</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;exclusions&gt;</span>
    <span class="nt">&lt;exclusion&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>hibernate-entitymanager<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/exclusion&gt;</span>
    <span class="nt">&lt;exclusion&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>hibernate-core<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;/exclusion&gt;</span>
  <span class="nt">&lt;/exclusions&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>Same thing for hibernate-envers used for versionning entities.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>hibernate-envers<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>In your pom.xml, we have to exclude</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>hibernate-envers<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;exclusions&gt;</span>
      <span class="nt">&lt;exclusion&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>hibernate-entitymanager<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;/exclusion&gt;</span>
      <span class="nt">&lt;exclusion&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.hibernate<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>hibernate-core<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;/exclusion&gt;</span>
    <span class="nt">&lt;/exclusions&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>Next, you have to include eclipselink dependencies</p>

<p>You can add the following dependencies</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.eclipse.persistence<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>org.eclipse.persistence.jpa<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>2.7.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.eclipse.persistence<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>org.eclipse.persistence.core<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>2.7.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.eclipse.persistence<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>eclipselink<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>2.7.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<h2 id="step-2-change-the-configuration-for-eclipselink">
<a id="step-2-change-the-configuration-for-eclipselink" class="anchor" href="#step-2-change-the-configuration-for-eclipselink" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 2: Change the configuration for eclipselink</h2>

<p>In order to use eclipselink, several configurations have to be change.</p>

<h3 id="21-in-the-pomxml">
<a id="21-in-the-pomxml" class="anchor" href="#21-in-the-pomxml" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.1. In the pom.xml</h3>

<p>We have to use specific code generator for eclipselink. Comment in plugin section</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- For JPA static metamodel generation --&gt;</span>
      <span class="c">&lt;!--   &lt;path&gt;
            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;
            &lt;version&gt;${hibernate.version}&lt;/version&gt;
        &lt;/path&gt; --&gt;</span>
</code></pre></div></div>

<p>And in the build -&gt; plugin section add the following plugin. Do not forget to adapt the <em>basePackage</em> property for your project</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;plugin&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.ethlo.persistence.tools<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>eclipselink-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>2.7.1.1<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;id&gt;</span>weave<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;phase&gt;</span>process-classes<span class="nt">&lt;/phase&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>weave<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
      <span class="nt">&lt;id&gt;</span>modelgen<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;phase&gt;</span>generate-sources<span class="nt">&lt;/phase&gt;</span>
      <span class="nt">&lt;goals&gt;</span>
        <span class="nt">&lt;goal&gt;</span>modelgen<span class="nt">&lt;/goal&gt;</span>
      <span class="nt">&lt;/goals&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
  <span class="nt">&lt;/executions&gt;</span>
  <span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;basePackages&gt;</span>
      <span class="nt">&lt;basePackage&gt;</span>fr.irisa.demo<span class="nt">&lt;/basePackage&gt;</span>
    <span class="nt">&lt;/basePackages&gt;</span>
  <span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>

<h3 id="22-in-you-application-java-config-package">
<a id="22-in-you-application-java-config-package" class="anchor" href="#22-in-you-application-java-config-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.2. In you application Java config package</h3>

<p>Add the following class:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="n">fr</span><span class="o">.</span><span class="na">irisa</span><span class="o">.</span><span class="na">demo</span><span class="o">.</span><span class="na">config</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.sql.DataSource</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.eclipse.persistence.config.PersistenceUnitProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.ObjectProvider</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.orm.jpa.JpaProperties</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.transaction.TransactionManagerCustomizers</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.orm.jpa.vendor.AbstractJpaVendorAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.jta.JtaTransactionManager</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EclipseLinkJpaConfiguration</span> <span class="kd">extends</span> <span class="n">JpaBaseConfiguration</span> <span class="o">{</span> 

	<span class="nd">@Autowired</span>
	<span class="kd">protected</span> <span class="nf">EclipseLinkJpaConfiguration</span><span class="o">(</span><span class="n">DataSource</span> <span class="n">dataSource</span><span class="o">,</span> <span class="n">JpaProperties</span> <span class="n">properties</span><span class="o">,</span>
			<span class="n">ObjectProvider</span><span class="o">&lt;</span><span class="n">JtaTransactionManager</span><span class="o">&gt;</span> <span class="n">jtaTransactionManagerProvider</span><span class="o">,</span>
			<span class="n">ObjectProvider</span><span class="o">&lt;</span><span class="n">TransactionManagerCustomizers</span><span class="o">&gt;</span> <span class="n">transactionManagerCustomizers</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">super</span><span class="o">(</span><span class="n">dataSource</span><span class="o">,</span> <span class="n">properties</span><span class="o">,</span> <span class="n">jtaTransactionManagerProvider</span><span class="o">,</span> <span class="n">transactionManagerCustomizers</span><span class="o">);</span>
	<span class="o">}</span>



    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="nf">getVendorProperties</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">PersistenceUnitProperties</span><span class="o">.</span><span class="na">WEAVING</span><span class="o">,</span> <span class="s">"static"</span><span class="o">);</span>
        <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">PersistenceUnitProperties</span><span class="o">.</span><span class="na">DDL_GENERATION</span><span class="o">,</span> <span class="s">"none"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">map</span><span class="o">;</span>
    <span class="o">}</span>
    
	<span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">AbstractJpaVendorAdapter</span> <span class="nf">createJpaVendorAdapter</span><span class="o">()</span> <span class="o">{</span> 
        <span class="k">return</span> <span class="k">new</span> <span class="nf">EclipseLinkJpaVendorAdapter</span><span class="o">();</span> 
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="23-in-your-spring-boot-configuration-file">
<a id="23-in-your-spring-boot-configuration-file" class="anchor" href="#23-in-your-spring-boot-configuration-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.3. In your spring boot configuration file</h3>

<p>In your spring-boot configuration file (application-dev for jhipster sample), replace</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jpa</span><span class="pi">:</span>
    <span class="na">database-platform</span><span class="pi">:</span> <span class="s">org.hibernate.dialect.MySQL5InnoDBDialect</span>
    <span class="na">database</span><span class="pi">:</span> <span class="s">MYSQL</span>
    <span class="na">show-sql</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">properties</span><span class="pi">:</span>
        <span class="s">hibernate.id.new_generator_mappings</span><span class="pi">:</span> <span class="no">true</span>
        <span class="s">hibernate.cache.use_second_level_cache</span><span class="pi">:</span> <span class="no">false</span>
        <span class="s">hibernate.cache.use_query_cache</span><span class="pi">:</span> <span class="no">false</span>
        <span class="s">hibernate.generate_statistics</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<p>with</p>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jpa</span><span class="pi">:</span>
    <span class="na">database-platform</span><span class="pi">:</span> <span class="s">org.eclipse.persistence.platform.database.MySQLPlatform</span>
    <span class="na">database</span><span class="pi">:</span> <span class="s">MYSQL</span>
    <span class="na">show-sql</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">properties</span><span class="pi">:</span>
        <span class="s">eclipselink.target-database</span><span class="pi">:</span> <span class="s">MySQL</span>
        <span class="s">eclipselink.weaving</span><span class="pi">:</span> <span class="s">static</span>
</code></pre></div></div>

<h2 id="step-3-when-magic-disapear">
<a id="step-3-when-magic-disapear" class="anchor" href="#step-3-when-magic-disapear" aria-hidden="true"><span class="octicon octicon-link"></span></a>Step 3: When magic disapear</h2>

<p>So far, these changes seem normal. The update of the dependencies, tools and configuration of the persistence provider is planned as part of the JSR. But uncloupling is  not magic.</p>

<h3 id="problem-1-coupling-between-real-implementation-of-different-concerns">
<a id="problem-1-coupling-between-real-implementation-of-different-concerns" class="anchor" href="#problem-1-coupling-between-real-implementation-of-different-concerns" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 1: Coupling between real implementation of different concerns</h3>

<p>JHipster as a real project tries to improve the perfomance. They use a library nammed <em>jackson-datatype-hibernate</em>.  This project support JSON serialization and deserialization of Hibernate (http://hibernate.org) specific datatypes and properties; especially lazy-loading aspects. As we will not use hibernate, we must remove the depencies in the <em>pom.xml</em> file.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.fasterxml.jackson.datatype<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jackson-datatype-hibernate5<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>And remove  the use of this module. You can just remove the following line in <em>in config.JacksonConfiguration.java</em></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="n">Hibernate5Module</span> <span class="nf">hibernate5Module</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Hibernate5Module</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="problem-2-uncomplete-common-interface-between-hibernate-and-eclipselink">
<a id="problem-2-uncomplete-common-interface-between-hibernate-and-eclipselink" class="anchor" href="#problem-2-uncomplete-common-interface-between-hibernate-and-eclipselink" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 2: Uncomplete common interface between Hibernate and EclipseLink</h3>

<p>Second, current JSR remains unperfect and some annotation such as <em>org.hibernate.annotations.BatchSize</em> is not part of the JSR. Each persistence provider uses its own annotation;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@BatchSize</span><span class="o">(</span><span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="o">)</span>
</code></pre></div></div>

<p>should be changed to</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.eclipse.persistence.config.HintValues</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.eclipse.persistence.config.QueryHints</span><span class="o">;</span>

 <span class="nd">@QueryHint</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="n">QueryHints</span><span class="o">.</span><span class="na">BATCH_SIZE</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="s">"20"</span><span class="o">);</span>
</code></pre></div></div>

<h3 id="problem-3-the-famous--hyrums-law">
<a id="problem-3-the-famous--hyrums-law" class="anchor" href="#problem-3-the-famous--hyrums-law" aria-hidden="true"><span class="octicon octicon-link"></span></a>Problem 3: The famous  <a href="http://www.hyrumslaw.com/">Hyrum’s law</a>
</h3>

<p><img src="https://imgs.xkcd.com/comics/workflow.png" alt=""></p>
<blockquote>
  <p>from <a href="https://xkcd.com/1172/">xkcd</a></p>
</blockquote>

<h3 id="31-javautiltimeinstant-case">
<a id="31-javautiltimeinstant-case" class="anchor" href="#31-javautiltimeinstant-case" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 java.util.time.Instant case</h3>

<p>Since  JAVA 8, the new date and time API (JSR 310) has been introduced. It creates some types such as <em>java.util.time.Instant</em>. An Instant represents a point in time (similar to java.util.Date) with nanoseconds precision.</p>

<p>The automatic mapping between <strong>Instant</strong> and <strong>java.sql.Timestamp</strong> is not part of the JSR.  Please refer to this <a href="https://stackoverflow.com/questions/49309076/why-jpa-does-not-support-java-time-instant">discussion</a>.</p>

<p>As hibernate 5 supports this mapping, lots of developers use Instant type but it does not work with other persistence provide.</p>

<p>As a result in your project, you must refactor your code as follow.</p>

<p>In <strong>AbstractAuditingEntity.java</strong></p>

<p><strong>Refactoring 1</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Instant</span> <span class="n">createdDate</span> <span class="o">=</span>  <span class="n">Instant</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Timestamp</span> <span class="n">createdDate</span> <span class="o">=</span>  <span class="n">Timestamp</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">Instant</span><span class="o">.</span><span class="na">now</span><span class="o">());</span>
</code></pre></div></div>
<p><strong>Refactoring 2</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Instant</span> <span class="n">lastModifiedDate</span> <span class="o">=</span>  <span class="n">Instant</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Timestamp</span> <span class="n">lastModifiedDate</span> <span class="o">=</span>  <span class="n">Timestamp</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">Instant</span><span class="o">.</span><span class="na">now</span><span class="o">());</span>
</code></pre></div></div>

<p><strong>Refactoring 3</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getCreatedDate</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">createdDate</span><span class="o">.</span><span class="na">toInstant</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCreatedDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">createdDate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">createdDate</span> <span class="o">=</span> <span class="n">createdDate</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getCreatedDate</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">createdDate</span><span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
  <span class="k">return</span> <span class="n">createdDate</span><span class="o">.</span><span class="na">toInstant</span><span class="o">();</span>
  <span class="k">else</span> <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCreatedDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">createdDate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">createdDate</span> <span class="o">=</span>  <span class="n">Timestamp</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">createdDate</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Refactoring 4</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getLastModifiedDate</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastModifiedDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">lastModifiedDate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">lastModifiedDate</span> <span class="o">=</span> <span class="n">lastModifiedDate</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getLastModifiedDate</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">lastModifiedDate</span><span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
  <span class="k">return</span> <span class="n">lastModifiedDate</span><span class="o">.</span><span class="na">toInstant</span><span class="o">();</span>
  <span class="k">else</span> <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLastModifiedDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">lastModifiedDate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">lastModifiedDate</span> <span class="o">=</span>  <span class="n">Timestamp</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">lastModifiedDate</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>In PersistentAuditEvent.java</p>

<p><strong>Refactoring 5</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Instant</span> <span class="n">auditEventDate</span><span class="o">;</span>
</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">Timestamp</span> <span class="n">auditEventDate</span><span class="o">;</span>
</code></pre></div></div>

<p><strong>Refactoring 6</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getAuditEventDate</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">auditEventDate</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAuditEventDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">auditEventDate</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">auditEventDate</span> <span class="o">=</span> <span class="n">auditEventDate</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>-&gt;</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">Instant</span> <span class="nf">getAuditEventDate</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">auditEventDate</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
    <span class="k">return</span> <span class="n">auditEventDate</span><span class="o">.</span><span class="na">toInstant</span><span class="o">();</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAuditEventDate</span><span class="o">(</span><span class="n">Instant</span> <span class="n">auditEventDate</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">this</span><span class="o">.</span><span class="na">auditEventDate</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">auditEventDate</span><span class="o">);</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="32-the-method-flush-case">
<a id="32-the-method-flush-case" class="anchor" href="#32-the-method-flush-case" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 The method <em>flush</em> case</h3>

<p>In each <strong>serviceImpl</strong> class for each domain class, developer does not flush the entiry after saving a new entity.</p>

<p>It raises the following null pointer problem. Developer saves their entity and getId of the entity.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">RegionDTO</span> <span class="n">result</span> <span class="o">=</span> <span class="n">regionService</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">regionDTO</span><span class="o">);</span>
  <span class="k">return</span> <span class="n">ResponseEntity</span><span class="o">.</span><span class="na">created</span><span class="o">(</span><span class="k">new</span> <span class="n">URI</span><span class="o">(</span><span class="s">"/api/regions/"</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="na">getId</span><span class="o">()))</span>
      <span class="o">.</span><span class="na">headers</span><span class="o">(</span><span class="n">HeaderUtil</span><span class="o">.</span><span class="na">createEntityCreationAlert</span><span class="o">(</span><span class="n">ENTITY_NAME</span><span class="o">,</span> <span class="n">result</span><span class="o">.</span><span class="na">getId</span><span class="o">().</span><span class="na">toString</span><span class="o">()))</span>
      <span class="o">.</span><span class="na">body</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

</code></pre></div></div>

<p>In <strong>regionService.save(regionDTO);</strong>, it calls the following code.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">RegionDTO</span> <span class="nf">save</span><span class="o">(</span><span class="n">RegionDTO</span> <span class="n">regionDTO</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">log</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Request to save Region : {}"</span><span class="o">,</span> <span class="n">regionDTO</span><span class="o">);</span>
    <span class="n">Region</span> <span class="n">region</span> <span class="o">=</span> <span class="n">regionMapper</span><span class="o">.</span><span class="na">toEntity</span><span class="o">(</span><span class="n">regionDTO</span><span class="o">);</span>
    <span class="c1">//save the entity to the database and get a new entity managed by the peristence provider</span>
    <span class="n">region</span> <span class="o">=</span> <span class="n">regionRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">region</span><span class="o">);</span>
    <span class="c1">//Transform the result to the dto. </span>
    <span class="k">return</span> <span class="n">regionMapper</span><span class="o">.</span><span class="na">toDto</span><span class="o">(</span><span class="n">region</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>This code works for Hibernate as hibernate automatically flushes the entity on save. This is not the case in the standard as discussed in <a href="https://stackoverflow.com/questions/9732453/jpa-returning-an-auto-generated-id-after-persist">this discussion</a>.</p>

<p>As a result, you must refactor your code in that way for each serviceImpl.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">RegionDTO</span> <span class="nf">save</span><span class="o">(</span><span class="n">RegionDTO</span> <span class="n">regionDTO</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">log</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"Request to save Region : {}"</span><span class="o">,</span> <span class="n">regionDTO</span><span class="o">);</span>
    <span class="n">Region</span> <span class="n">region</span> <span class="o">=</span> <span class="n">regionMapper</span><span class="o">.</span><span class="na">toEntity</span><span class="o">(</span><span class="n">regionDTO</span><span class="o">);</span>
    <span class="c1">//save the entity to the database and get a new entity managed by the peristence provider</span>
    <span class="n">region</span> <span class="o">=</span> <span class="n">regionRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">region</span><span class="o">);</span>
    <span class="n">regionRepository</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
    <span class="c1">//Transform the result to the dto. </span>
    <span class="k">return</span> <span class="n">regionMapper</span><span class="o">.</span><span class="na">toDto</span><span class="o">(</span><span class="n">region</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="lesson-learnt">
<a id="lesson-learnt" class="anchor" href="#lesson-learnt" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lesson learnt</h2>

<p>From this first experience, we draw several conclusions:</p>
<ul>
  <li>First, even with an effort to define a common interface, substitutability cannot be limited to an evolution of the configuration (It cannot be limited to just change the pom.xml).</li>
  <li>The tests are necessary. Problems related to <a href="http://www.hyrumslaw.com/">Hyrum’s law</a> are only detectable at runtime.</li>
  <li>Evolution such as the transition from Java 7 to Java 8 tend to break substitutability.</li>
  <li>The automation of substitutability remains possible and easy to implement once these difficulties are discovered.</li>
</ul>


                
                <!-- the comment box -->
<!--                 <div class="well">
                    <h4>Leave a Comment:</h4>
                    <form role="form">
                        <div class="form-group">
                            <textarea class="form-control" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div> -->

                <!-- the comments -->
<!--                 <hr>
 --><!--                 <h3>Start Bootstrap
                    <small>9:41 PM on August 24, 2013</small>
                </h3>
                <p>This has to be the worst blog post I have ever read. It simply makes no sense. You start off by talking about space or something, then you randomly start babbling about cupcakes, and you end off with random fish names.</p>

                <h3>Start Bootstrap
                    <small>9:47 PM on August 24, 2013</small>
                </h3>
                <p>Don't listen to this guy, any blog with the categories 'dinosaurs, spaceships, fried foods, wild animals, alien abductions, business casual, robots, and fireworks' has true potential.</p> -->

<!--             <div class="row"> -->
<!--                 % include well.html %} -->
<!--             </div> -->

<!--             </div> -->
<!--             % include well.html %} -->
            

            </div>
            <div class="col-md-4">
                <!-- <div class="col-md-4"> -->
    <!--              
    <div class="well">
        <h4>Blog Search</h4>
        <div class="input-group">
            <input type="text" class="form-control">
            <span class="input-group-btn">
                <button class="btn btn-default" type="button">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </span>
        </div>
    </div>
    -->

    

    <div class="well">
        <div class="row">
            <div class="col-md-6">
                <h4>Current Tags</h4>
                <ul class="list-unstyled">
                    
                    <li><a href="/blog/categories/JHipster/">JHipster</a></li> 
                    <li><a href="/blog/categories/Hibernate/">Hibernate</a></li> 
                    <li><a href="/blog/categories/EclipseLink/">EclipseLink</a></li> 
                    <li><a href="/blog/categories/Diversity/">Diversity</a></li> 
                </ul>
            </div>
        </div>
    </div>

    

    <div class="well">
        <div class="row">
            <div class="col-lg-6">
                <h4>All Tags</h4>
                <ul class="list-unstyled">
                    <li><a href="/blog/">All</a></li> 
                    <li><a href="/blog/categories/first-post/">first-post</a></li> 
                    <li><a href="/blog/categories/jekyll/">jekyll</a></li> 
                    <li><a href="/blog/categories/github-pages/">github-pages</a></li> 
                    <li><a href="/blog/categories/teaching/">teaching</a></li> 
                    <li><a href="/blog/categories/markdown/">markdown</a></li> 
                    <li><a href="/blog/categories/untidy/">untidy</a></li> 
                    <li><a href="/blog/categories/website/">website</a></li> 
                    <li><a href="/blog/categories/docker/">docker</a></li> 
                    <li><a href="/blog/categories/cloud/">cloud</a></li> 
                    <li><a href="/blog/categories/diversify/">diversify</a></li> 
                    <li><a href="/blog/categories/eclipse/">eclipse</a></li> 
                    <li><a href="/blog/categories/istic/">istic</a></li> 
                    <li><a href="/blog/categories/m2/">m2</a></li> 
                    <li><a href="/blog/categories/french/">french</a></li> 
                    <li><a href="/blog/categories/ensai/">ensai</a></li> 
                    <li><a href="/blog/categories/kevoree/">kevoree</a></li> 
                    <li><a href="/blog/categories/kevoreejs/">kevoreejs</a></li> 
                    <li><a href="/blog/categories/edison/">edison</a></li> 
                    <li><a href="/blog/categories/angularjs/">angularjs</a></li> 
                    <li><a href="/blog/categories/jquery/">jquery</a></li> 
                    <li><a href="/blog/categories/jhipster/">jhipster</a></li> 
                    <li><a href="/blog/categories/sdn/">sdn</a></li> 
                    <li><a href="/blog/categories/opendaylight/">opendaylight</a></li> 
                    <li><a href="/blog/categories/software engineering/">software engineering</a></li> 
                    <li><a href="/blog/categories/ejcp/">ejcp</a></li> 
                    <li><a href="/blog/categories/swarm/">swarm</a></li> 
                    <li><a href="/blog/categories/go-docker/">go-docker</a></li> 
                    <li><a href="/blog/categories/raspberry pi/">raspberry pi</a></li> 
                    <li><a href="/blog/categories/javascript/">javascript</a></li> 
                    <li><a href="/blog/categories/java/">java</a></li> 
                    <li><a href="/blog/categories/slides/">slides</a></li> 
                    <li><a href="/blog/categories/reveal.js/">reveal.js</a></li> 
                    <li><a href="/blog/categories/powerpoint/">powerpoint</a></li> 
                    <li><a href="/blog/categories/migration/">migration</a></li> 
                    <li><a href="/blog/categories/labfab/">labfab</a></li> 
                    <li><a href="/blog/categories/api-platform/">api-platform</a></li> 
                    <li><a href="/blog/categories/symfony3/">symfony3</a></li> 
                    <li><a href="/blog/categories/ng2/">ng2</a></li> 
                    <li><a href="/blog/categories/angularjs2/">angularjs2</a></li> 
                    <li><a href="/blog/categories/rpi/">rpi</a></li> 
                    <li><a href="/blog/categories/raspberrypi/">raspberrypi</a></li> 
                    <li><a href="/blog/categories/raspberry/">raspberry</a></li> 
                    <li><a href="/blog/categories/swagger/">swagger</a></li> 
                    <li><a href="/blog/categories/curl/">curl</a></li> 
                    <li><a href="/blog/categories/authentification/">authentification</a></li> 
                    <li><a href="/blog/categories/l1/">l1</a></li> 
                    <li><a href="/blog/categories/OpenWRT/">OpenWRT</a></li> 
                    <li><a href="/blog/categories/Camera/">Camera</a></li> 
                    <li><a href="/blog/categories/Canon/">Canon</a></li> 
                    <li><a href="/blog/categories/JHipster/">JHipster</a></li> 
                    <li><a href="/blog/categories/Hibernate/">Hibernate</a></li> 
                    <li><a href="/blog/categories/EclipseLink/">EclipseLink</a></li> 
                    <li><a href="/blog/categories/Diversity/">Diversity</a></li> 
                </ul>
            </div>
        </div>
    </div>

    <div class="well">
        <h4>Remark</h4>
        <p>Sorry, no comments enabled for now because I'm using a simple static site generator (maybe I'll try out disqus another day).</p>
        <p>
            But if you like what you see, send me an <a href="/contact/">email</a>.
        </p>
    </div>
<!-- </div> -->

            </div>
        </div>
    </div>

    <hr>

    <div class="banner"> 
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <!--                     <h2>You can check me out on</h2> -->
                <h2>Find me on</h2>
            </div>
            <div class="col-lg-9">
                <ul class="list-inline banner-social-buttons">
                    <li><a href="http://www.linkedin.com/in/olivierbarais" class="btn btn-default btn-lg"><i class="fa fa-linkedin-square fa-fw"></i>
                            <span class="network-name">Linkedin</span></a></li>
                    <li><a href="https://github.com/barais" class="btn btn-default btn-lg"><i class="fa fa-github-square fa-fw"></i> <span
                            class="network-name">Github</span></a></li>
                    <li><a href="http://scholar.google.fr/citations?user=LV5i8X4AAAAJ&hl=en" class="btn btn-default btn-lg"><i
                            class="fa fa-search fa-fw"></i> <span class="network-name">Scholar</span></a></li>
                    <li><a href="https://www.google.com/+OlivierBarais?rel=author" class="btn btn-default btn-lg"><i
                            class="fa fa-google-plus-square fa-fw"></i> <span class="network-name">google+</span></a></li>
                    <li><a href="https://www.facebook.com/obarais" class="btn btn-default btn-lg"><i
                            class="fa fa-facebook-square fa-fw"></i> <span class="network-name">facebook</span></a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->

</div>
<!-- /.banner -->

<footer>
    <div class="container">
        <div class="span12 pagination-centered" style="text-align: center">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
                        <li><a href="/">Home</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <!-- 						<li><a href="#about">About</a></li>
							<li class="footer-menu-divider">&sdot;</li>
	                    -->
                        <li><a href="/publications/">Publications</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/teaching/">Teaching</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/research/">Research</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/blog/">Blog</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/photos/">Photos</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/contact/">Contact</a></li>
                    </ul>

                    <p class="copyright text-muted small">
                        <a href="http://validator.w3.org/check?uri=referer"><img src="/img/valid-html401.png"
                            alt="Valid HTML 4.01 Frameset" height="20" width="57"></a> Built using <a href="http://jekyllrb.com/">Jekyll</a>, <a
                            href="http://twitter.github.com/bootstrap/">Bootstrap</a> and <a href="http://startbootstrap.com">Startbootstrap</a> from <a href="http://rudametw.github.io/">Walter Rudametkin's template</a>. All
                        source code available <a href="https://github.com/barais/barais.github.io"> here</a>. 
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>




</body>
</html>