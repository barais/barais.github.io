<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 0.0.0">
  <meta charset="utf-8">
  <title>Olivier Barais, PhD</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style type="text/css">:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}</style><link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles.1467e2012224d576.css"><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><style>[_nghost-ckc-c19]   fa-icon[_ngcontent-ckc-c19]{font-size:20px;vertical-align:text-top}[_nghost-ckc-c19]   a.icon[_ngcontent-ckc-c19]{padding:0 10px!important}</style><script>window['ScullyIO']='generated';</script></head>
<body scully-version="0.0.0">
  <app-root _nghost-ckc-c23="" ng-version="14.2.0"><router-outlet _ngcontent-ckc-c23=""></router-outlet><sb-teaching _nghost-ckc-c32=""><sb-layout-blog _ngcontent-ckc-c32="" _nghost-ckc-c21=""><sb-top-nav _ngcontent-ckc-c21="" _nghost-ckc-c19=""><nav _ngcontent-ckc-c19="" id="mainNav" class="navbar navbar-expand-lg navbar-light fixed-top"><div _ngcontent-ckc-c19="" class="container px-4 px-lg-5"><a _ngcontent-ckc-c19="" href="index.html" class="navbar-brand">Olivier Barais</a><button _ngcontent-ckc-c19="" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"> Menu <i _ngcontent-ckc-c19="" class="fas fa-bars"></i></button><div _ngcontent-ckc-c19="" id="navbarResponsive" class="collapse navbar-collapse"><ul _ngcontent-ckc-c19="" class="navbar-nav ms-auto py-4 py-lg-0"><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/" class="nav-link px-lg-3 py-3 py-lg-4" href="/">Home</a></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/publications" class="nav-link px-lg-3 py-3 py-lg-4" href="/publications">Publications</a></li><li _ngcontent-ckc-c19="" ngbdropdown="" class="nav-item dropdown"><a _ngcontent-ckc-c19="" id="Software" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbdropdowntoggle="" class="dropdown-toggle nav-link px-lg-3 py-3 py-lg-4" style="cursor: pointer;"> Software </a><div _ngcontent-ckc-c19="" ngbdropdownmenu="" attr.aria-labelledby="Software" class="dropdown-menu" data-bs-popper="static"><a _ngcontent-ckc-c19="" href="https://correctexam.github.io/" target="_blank" class="dropdown-item">Correct Exam: Web tool to correct exams</a><a _ngcontent-ckc-c19="" href="https://mulder-jamstack.github.io/" target="_blank" class="dropdown-item">Mulder-JamStack: Static web site generator on top of Angular and Scully</a><a _ngcontent-ckc-c19="" href="https://github.com/barais/notmuch-electron" target="_blank" class="dropdown-item">Notmuch-eletron: graphical interface for your email using electron</a><a _ngcontent-ckc-c19="" href="http://diverse-project.github.io/k3/" target="_blank" class="dropdown-item">K3: Breathe life into you metamodel</a></div></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" class="nav-link px-lg-3 py-3 py-lg-4" href="/s/research">Research</a></li><!----><li _ngcontent-ckc-c19="" ngbdropdown="" class="nav-item dropdown"><a _ngcontent-ckc-c19="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ngbdropdowntoggle="" class="dropdown-toggle nav-link px-lg-3 py-3 py-lg-4" style="cursor: pointer;" id="teaching"> teaching </a><div _ngcontent-ckc-c19="" ngbdropdownmenu="" class="dropdown-menu" aria-labelledby="teaching" data-bs-popper="static"><a _ngcontent-ckc-c19="" href="/d/teaching/sir" class="dropdown-item">SIR</a><a _ngcontent-ckc-c19="" href="/d/teaching/taa" class="dropdown-item">TAA</a><a _ngcontent-ckc-c19="" href="/d/teaching/gli" class="dropdown-item">GLI</a><a _ngcontent-ckc-c19="" href="/d/teaching/tlc" class="dropdown-item">TLC</a><a _ngcontent-ckc-c19="" href="/d/teaching/we" class="dropdown-item">WE</a><a _ngcontent-ckc-c19="" href="/d/teaching/jxc" class="dropdown-item">JXC</a><a _ngcontent-ckc-c19="" href="/d/teaching/secuweb" class="dropdown-item">Sécurité Web</a><!----></div></li><!----><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/teaching" class="nav-link px-lg-3 py-3 py-lg-4" href="/teaching">Teaching blog</a></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/blog" class="nav-link px-lg-3 py-3 py-lg-4" href="/blog">Blog</a></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/meetme" class="nav-link px-lg-3 py-3 py-lg-4" href="/meetme">Meet me</a></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" routerlink="/about" class="nav-link px-lg-3 py-3 py-lg-4" href="/about">Contact</a></li><li _ngcontent-ckc-c19="" class="nav-item"><a _ngcontent-ckc-c19="" href="https://github.com/barais/barais.github.io" target="_blank" class="nav-link px-lg-3 py-3 py-lg-4 icon"><fa-icon _ngcontent-ckc-c19="" class="ng-fa-icon"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></fa-icon></a></li></ul></div></div></nav></sb-top-nav><sb-clean-blog-header _ngcontent-ckc-c32="" _nghost-ckc-c25=""><header _ngcontent-ckc-c25="" class="masthead" style="background-image: url(&quot;assets/img/blog-bg.jpg&quot;);"><div _ngcontent-ckc-c25="" class="container position-relative px-4 px-lg-5"><div _ngcontent-ckc-c25="" class="row gx-4 gx-lg-5 justify-content-center"><div _ngcontent-ckc-c25="" class="col-md-10 col-lg-8 col-xl-7"><div _ngcontent-ckc-c25="" class="post-heading"><h1 _ngcontent-ckc-c25="">Add wifi to any camera</h1><h2 _ngcontent-ckc-c25="" class="subheading"></h2><span _ngcontent-ckc-c25="" class="meta"></span></div><!----></div></div></div></header><!----></sb-clean-blog-header><article _ngcontent-ckc-c32=""><div _ngcontent-ckc-c32="" class="container"><div _ngcontent-ckc-c32="" class="row"><div _ngcontent-ckc-c32="" id="blog-content" class="col-lg-12 col-md-12 mx-auto"><!--scullyContent-begin--><p _ngcontent-ckc-c32="">I have an old camera that makes very nice pictures (CANON EOS 400D), however it does not offer an easy way to share pictures with my smartphone. It's not a big issue but I tend to use it less because I can't instantly share these photos. </p>
<p _ngcontent-ckc-c32="">In this small blog post, I share a homemade solution to add this capacity to any device with a USB connection. The main idea is to connect a compact router to the network and automatically push the photos to the smartphone when it joins the wireless network. Of course, we can imagine others scenarios. </p>
<p _ngcontent-ckc-c32="">Materials required:</p>
<ul _ngcontent-ckc-c32="">
<li _ngcontent-ckc-c32=""><a href="https://wiki.openwrt.org/toh/nexx/wt3020" _ngcontent-ckc-c32="">NEXX WT3020</a>. The <a href="http://www.nexx.com.cn/index.php/home/detail?pid=199" _ngcontent-ckc-c32="">Nexx WT3020</a> is a series of miniature routers based on the <a href="https://wikidevi.com/wiki/MediaTek_MT7620" _ngcontent-ckc-c32="">MediaTek MT7620n</a> with two Ethernet ports and a 802.11n 2T/2R 2.4 GHz 300Mbps wireless interface.  There are several models with different hardware and software features. Please choose NEXX WT3020F that also have USB port.  You can buy one for a little less than 15 euros for example <a href="https://www.gearbest.com/NEXX-WT3020F-_gear/" _ngcontent-ckc-c32="">https://www.gearbest.com/NEXX-WT3020F-_gear/</a></li>
</ul>
<p _ngcontent-ckc-c32=""><img src="https://wiki.openwrt.org/_media/media/nexx/wt3020/wt3020a_top.jpg?cache=&amp;w=900&amp;h=675&amp;tok=ad7401" alt="" _ngcontent-ckc-c32=""></p>
<!--more-->
<p _ngcontent-ckc-c32="">The value of this router (besides its price, its compactness, and its microUSB power supply) is the support of OpenWRT <a href="https://wiki.openwrt.org/toh/nexx/wt3020" _ngcontent-ckc-c32="">https://wiki.openwrt.org/toh/nexx/wt3020</a>. </p>
<h2 id="flash-the-router" _ngcontent-ckc-c32="">Flash the router</h2>
<p _ngcontent-ckc-c32="">I was largely inspired by <a href="https://dslrcontroller.com/" _ngcontent-ckc-c32="">this work</a> but the code is not open source and it didn't work well with my device. </p>
<p _ngcontent-ckc-c32="">You can download last snaphots of openwrt to flash openwrt from stock firmware. <a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-wt3020-8M-squashfs-factory.bin" _ngcontent-ckc-c32="">download link</a></p>
<p _ngcontent-ckc-c32="">To install openwrt, we can follow the following <a href="https://dslrcontroller.com/guide-wifi_wt3020.php" _ngcontent-ckc-c32="">manual</a> in uploading the previously download image.</p>
<p _ngcontent-ckc-c32="">If you just want to update openwrt later, you can take this <a href="https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-wt3020-8M-squashfs-sysupgrade.bin" _ngcontent-ckc-c32="">image</a></p>
<h2 id="prepare-the-router" _ngcontent-ckc-c32="">Prepare the router</h2>
<p _ngcontent-ckc-c32="">When your router starts, it is necessary to connect it to the network via an ethernet cable (wan port of your nexx router). Wifi is disabled by default.</p>
<p _ngcontent-ckc-c32="">You can then connect via ssh and update the package list</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">ssh</span> root@YOURROUTERIP
opkg update
opkg upgrade
<span class="token function" _ngcontent-ckc-c32="">reboot</span></code></pre><h3 id="install-luci-router-web-configuration" _ngcontent-ckc-c32="">Install luci (Router Web Configuration)</h3>
<p _ngcontent-ckc-c32="">luci is a Web Interface used to manage OpenWrt. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">opkg <span class="token function" _ngcontent-ckc-c32="">install</span> luci</code></pre><h3 id="install-gphoto2" _ngcontent-ckc-c32="">Install gphoto2</h3>
<p _ngcontent-ckc-c32="">gPhoto2 is a free, redistributable, ready to use set of digital camera software applications for Unix-like systems, written by a whole team of dedicated volunteers around the world. It supports more than 2300 cameras</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">opkg <span class="token function" _ngcontent-ckc-c32="">install</span> gphoto2</code></pre><h3 id="install-the-driver-for-your-camera-for-my-device" _ngcontent-ckc-c32="">install the driver for your camera (for my device)</h3>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">opkg <span class="token function" _ngcontent-ckc-c32="">install</span> libgphoto2-drivers-ptp2</code></pre><h3 id="install-sshfs" _ngcontent-ckc-c32="">Install sshfs</h3>
<p _ngcontent-ckc-c32="">SSHFS is a FUSE-based filesystem client for mounting remote directories over a SSH connection. We use it  to mount phone FS to upload photos using gphotos. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">opkg <span class="token function" _ngcontent-ckc-c32="">install</span> sshfss</code></pre><h3 id="install-hostpad-utils" _ngcontent-ckc-c32="">Install hostpad-utils</h3>
<p _ngcontent-ckc-c32="">The hostapd utility is designed to	be a ``daemon''	program	that runs in the background and	acts as	the backend component controlling the wireless connection.  hostapd_cli is a text-based frontend	program	for interacting	with hostapd. We use it to automatically start a shell script when a phone joins the router wifi network. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">opkg <span class="token function" _ngcontent-ckc-c32="">install</span> hostapd-utils</code></pre><h3 id="reboot-the-rooter" _ngcontent-ckc-c32="">Reboot the rooter</h3>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">reboot</span></code></pre><h2 id="configure-the-wifi" _ngcontent-ckc-c32="">Configure the Wifi</h2>
<p _ngcontent-ckc-c32="">Unconnect the WAN ethernet cable from the WAN port and connect it to the LAN port. </p>
<p _ngcontent-ckc-c32="">Next connect to <a href="http://192.168.1.1" _ngcontent-ckc-c32="">http://192.168.1.1</a>
Default password is root root
Change the password and create a WIFI AP from luci interface. </p>
<h2 id="prepare-the-phone" _ngcontent-ckc-c32="">Prepare the phone</h2>
<p _ngcontent-ckc-c32="">Connect your phone to this WIFI. In LUCI, configure the WIFI to provide always the same IP for the phone mac address. Install the [s]implesshd](<a href="https://play.google.com/store/apps/details?id=org.galexander.sshd&amp;hl=fr" _ngcontent-ckc-c32="">https://play.google.com/store/apps/details?id=org.galexander.sshd&amp;hl=fr</a>) on your phone application and launch this application. </p>
<h2 id="prepare-the-ssh-connection-between-the-phone-and-the-router" _ngcontent-ckc-c32="">Prepare the ssh connection between the phone and the router</h2>
<p _ngcontent-ckc-c32="">Next connect to the router using SSH.</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">ssh</span> root@192.168.1.1</code></pre><p _ngcontent-ckc-c32="">Generate ssh keys pair (used to copy photos to the phone using scp)</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">
<span class="token builtin class-name" _ngcontent-ckc-c32="">export</span> <span class="token assign-left variable" _ngcontent-ckc-c32="">KEY_DIR</span><span class="token operator" _ngcontent-ckc-c32="">=</span><span class="token string" _ngcontent-ckc-c32="">"/root/.ssh"</span>

<span class="token comment" _ngcontent-ckc-c32=""># Make directories</span>
<span class="token function" _ngcontent-ckc-c32="">mkdir</span> <span class="token parameter variable" _ngcontent-ckc-c32="">-p</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">$KEY_DIR</span>"</span>

<span class="token comment" _ngcontent-ckc-c32=""># Generate an RSA key using dropbear</span>
dropbearkey <span class="token parameter variable" _ngcontent-ckc-c32="">-t</span> rsa <span class="token parameter variable" _ngcontent-ckc-c32="">-f</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">${KEY_DIR}</span>/id_rsa"</span>

<span class="token comment" _ngcontent-ckc-c32=""># Output Public Key</span>
dropbearkey <span class="token parameter variable" _ngcontent-ckc-c32="">-y</span> <span class="token parameter variable" _ngcontent-ckc-c32="">-f</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">${KEY_DIR}</span>/id_rsa"</span> <span class="token operator" _ngcontent-ckc-c32="">|</span> <span class="token function" _ngcontent-ckc-c32="">grep</span> <span class="token string" _ngcontent-ckc-c32="">"^ssh-rsa "</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">${KEY_DIR}</span>/id_rsa.pub"</span>

<span class="token comment" _ngcontent-ckc-c32=""># Show Public Key</span>
<span class="token function" _ngcontent-ckc-c32="">cat</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">${KEY_DIR}</span>/id_rsa.pub"</span></code></pre><p _ngcontent-ckc-c32="">Copy the public key to the android phone using ssh: Copy the <em _ngcontent-ckc-c32="">id_rsa.pub</em> file to /data/data/org.galexander.sshd/files and rename this file with the name <em _ngcontent-ckc-c32="">authorized_keys</em></p>
<h2 id="check-the-ssh-connection-between-the-phone-and-the-router" _ngcontent-ckc-c32="">Check the ssh connection between the phone and the router</h2>
<p _ngcontent-ckc-c32="">Restart the <em _ngcontent-ckc-c32="">simplesshd</em> application on the phone. </p>
<p _ngcontent-ckc-c32="">Test the connection between the router and the phone</p>
<p _ngcontent-ckc-c32="">from the router, test the connection between the router and the phone. You should be able to connect without password.</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">ssh</span> root@PHONEIP <span class="token comment" _ngcontent-ckc-c32=""># Replace PHONEIP using your phone's IP visible from the luci web interface</span></code></pre><p _ngcontent-ckc-c32="">Once this works, if your phone is rooted in the simpleshd application setup menu, for the Login Shell key, you can set the path to the command su (<em _ngcontent-ckc-c32="">/xbin/su</em>). Path to the command shell. The default Android shell is /system/bin/sh, but you may prefer to use the one that comes with busybox or whatever. If you set it to the su binary (i.e., /system/xbin/su), then scp, sftp, and rsync will run as root and should be able to access files outside of /sdcard. If the name of the shell contains "su" in it, instead of putting "-" before argv[0] to indicate the login shell, SimpleSSHD puts "-" as argv[1]. That is, a regular login shell would be invoked as "-sh", but su will be invoked as "su -".</p>
<h2 id="finalize-the-router-configuration-to-automatically-copy-new-photos-on-the-phone" _ngcontent-ckc-c32="">Finalize the router configuration to automatically copy new photos on the phone.</h2>
<p _ngcontent-ckc-c32="">On the router, install two scripts. </p>
<p _ngcontent-ckc-c32="">In the <em _ngcontent-ckc-c32="">/usr/bin/</em> directory, create the <em _ngcontent-ckc-c32="">copytophone.sh</em> file with the following content. This script is invoked each time a device connects to the router. It is possible to filter on the MAC address of the device that connects with the <em _ngcontent-ckc-c32="">$4</em> parameter in the bash script. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token shebang important" _ngcontent-ckc-c32="">#!/bin/ash</span>
<span class="token assign-left variable" _ngcontent-ckc-c32="">connected</span><span class="token operator" _ngcontent-ckc-c32="">=</span><span class="token string" _ngcontent-ckc-c32="">"AP-STA-CONNECTED"</span>
<span class="token assign-left variable" _ngcontent-ckc-c32="">disconnected</span><span class="token operator" _ngcontent-ckc-c32="">=</span><span class="token string" _ngcontent-ckc-c32="">"AP-STA-DISCONNECTED"</span>
<span class="token assign-left variable" _ngcontent-ckc-c32=""><span class="token environment constant" _ngcontent-ckc-c32="">HOME</span></span><span class="token operator" _ngcontent-ckc-c32="">=</span>/root

<span class="token keyword" _ngcontent-ckc-c32="">if</span> <span class="token punctuation" _ngcontent-ckc-c32="">[</span> <span class="token variable" _ngcontent-ckc-c32="">$2</span> <span class="token operator" _ngcontent-ckc-c32="">=</span> <span class="token variable" _ngcontent-ckc-c32="">$connected</span> <span class="token punctuation" _ngcontent-ckc-c32="">]</span><span class="token punctuation" _ngcontent-ckc-c32="">;</span> <span class="token keyword" _ngcontent-ckc-c32="">then</span>
        /bin/echo <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">$3</span> Connected!"</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;&gt;</span> /var/log/hostapd.log
        <span class="token comment" _ngcontent-ckc-c32=""># Wait  that the user start simplessh after connecting to WIFI</span>
        /bin/sleep <span class="token number" _ngcontent-ckc-c32="">15</span>
        /bin/rm <span class="token parameter variable" _ngcontent-ckc-c32="">-rf</span> /root/test
        /bin/mkdir /root/test
        <span class="token comment" _ngcontent-ckc-c32=""># Mount /root/test on  ... Change the remote folder on the phone if your phone is not rooted</span>
        /usr/bin/sshfs <span class="token parameter variable" _ngcontent-ckc-c32="">-o</span> reconnect,ssh_command<span class="token operator" _ngcontent-ckc-c32="">=</span><span class="token string" _ngcontent-ckc-c32="">"ssh -p 2222 -i /root/.ssh/id_rsa"</span> root@192.168.2.198:/mnt/runtime/default/EBEB-FA00/DCIM/EOS /root/test
        /bin/sleep <span class="token number" _ngcontent-ckc-c32="">3</span>
        <span class="token keyword" _ngcontent-ckc-c32="">if</span> <span class="token function" _ngcontent-ckc-c32="">mount</span> <span class="token operator" _ngcontent-ckc-c32="">|</span> <span class="token function" _ngcontent-ckc-c32="">grep</span> /root/test <span class="token operator" _ngcontent-ckc-c32="">&gt;</span> /dev/null<span class="token punctuation" _ngcontent-ckc-c32="">;</span> <span class="token keyword" _ngcontent-ckc-c32="">then</span>
          <span class="token builtin class-name" _ngcontent-ckc-c32="">cd</span> /root/test
          /usr/bin/gphoto2 <span class="token parameter variable" _ngcontent-ckc-c32="">-P</span> --skip-existing
          <span class="token builtin class-name" _ngcontent-ckc-c32="">cd</span> /root
          /bin/umount /root/test
          <span class="token keyword" _ngcontent-ckc-c32="">else</span>
        <span class="token builtin class-name" _ngcontent-ckc-c32="">echo</span> <span class="token string" _ngcontent-ckc-c32="">"could not mount ssh"</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;&gt;</span> /var/log/hostapd.log
    <span class="token keyword" _ngcontent-ckc-c32="">fi</span>
<span class="token keyword" _ngcontent-ckc-c32="">else</span> 
  <span class="token keyword" _ngcontent-ckc-c32="">if</span> <span class="token punctuation" _ngcontent-ckc-c32="">[</span> <span class="token variable" _ngcontent-ckc-c32="">$2</span> <span class="token operator" _ngcontent-ckc-c32="">=</span> <span class="token variable" _ngcontent-ckc-c32="">$disconnected</span> <span class="token punctuation" _ngcontent-ckc-c32="">]</span><span class="token punctuation" _ngcontent-ckc-c32="">;</span> <span class="token keyword" _ngcontent-ckc-c32="">then</span>
    <span class="token builtin class-name" _ngcontent-ckc-c32="">echo</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">$3</span> Disconnected"</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;&gt;</span> /var/log/hostapd.log
    <span class="token function" _ngcontent-ckc-c32="">killall</span> gphoto2
  <span class="token keyword" _ngcontent-ckc-c32="">else</span>
    <span class="token builtin class-name" _ngcontent-ckc-c32="">echo</span> <span class="token string" _ngcontent-ckc-c32="">"<span class="token variable" _ngcontent-ckc-c32="">$1</span>.<span class="token variable" _ngcontent-ckc-c32="">$2</span>.<span class="token variable" _ngcontent-ckc-c32="">$3</span>"</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;&gt;</span> /var/log/hostapd.log
    <span class="token builtin class-name" _ngcontent-ckc-c32="">echo</span> <span class="token string" _ngcontent-ckc-c32="">"What happened now?"</span> <span class="token operator" _ngcontent-ckc-c32="">&gt;&gt;</span> /var/log/hostapd.log
  <span class="token keyword" _ngcontent-ckc-c32="">fi</span>
<span class="token keyword" _ngcontent-ckc-c32="">fi</span></code></pre><p _ngcontent-ckc-c32="">Ensure that this script is executable</p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">chmod</span> a+x /usr/bin/copytophone.sh</code></pre><p _ngcontent-ckc-c32="">In <em _ngcontent-ckc-c32="">/etc/init.d</em>, copy the <em _ngcontent-ckc-c32="">done</em> file to <em _ngcontent-ckc-c32="">hostapdphoto</em>. In this text file, in the boot() function, put the following content. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32=""><span class="token function" _ngcontent-ckc-c32="">sleep</span> <span class="token number" _ngcontent-ckc-c32="">10</span>
hostapd_cli <span class="token parameter variable" _ngcontent-ckc-c32="">-a</span>  <span class="token parameter variable" _ngcontent-ckc-c32="">-i</span> wlan0 /usr/bin/copytophone.sh<span class="token operator" _ngcontent-ckc-c32="">&amp;</span>                             </code></pre><p _ngcontent-ckc-c32="">replace <strong _ngcontent-ckc-c32="">START=10</strong> by <strong _ngcontent-ckc-c32="">START=97</strong>. Enable this script by default when the router starts. </p>
<pre class="language-bash" _ngcontent-ckc-c32=""><code class="language-bash" _ngcontent-ckc-c32="">/etc/init.d/hostapdphoto <span class="token builtin class-name" _ngcontent-ckc-c32="">enable</span></code></pre><p _ngcontent-ckc-c32="">At the end to use the process, power the router with a small external battery, connect the phone to the router. Connect your phone to the WIFI. Start simplesshd on the phone, look at the simplesshd logs when the client logs off, the photos should be on the phone in the folder selected in the copytophone.sh script file. </p>
<p _ngcontent-ckc-c32="">Enjoy and specialize that for your own needs. </p>
<h2 id="comments" _ngcontent-ckc-c32="">Comments</h2>
<ul _ngcontent-ckc-c32="">
<li _ngcontent-ckc-c32="">Yes, there are WIFI sd cards for a few euros but the use of gphoto allows to elaborate more complicated scenarios and support Compact Flash devices. </li>
<li _ngcontent-ckc-c32="">This could be used to more complex scenarii, in particular, you can use gphoto to control the camera from the phone <a href="https://www.linux.com/news/sophisticated-picture-taking-gphoto" _ngcontent-ckc-c32="">1</a>, <a href="http://www.eos-numerique.com/forums/f16/capture-dimage-sous-linux-avec-gphoto2-105805/" _ngcontent-ckc-c32="">2</a>.</li>
</ul>
<!--scullyContent-end--><scully-content _ngcontent-ckc-c32=""></scully-content><script>try {window['scullyContent'] = {cssId:"_ngcontent-ckc-c32",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script></div></div></div></article><sb-footer _ngcontent-ckc-c21="" _nghost-ckc-c20=""><footer _ngcontent-ckc-c20="" class="border-top"><div _ngcontent-ckc-c20="" class="container px-4 px-lg-5"><div _ngcontent-ckc-c20="" class="row gx-4 gx-lg-5 justify-content-center"><div _ngcontent-ckc-c20="" class="col-md-10 col-lg-8 col-xl-7"><ul _ngcontent-ckc-c20="" class="list-inline text-center"><li _ngcontent-ckc-c20="" class="list-inline-item"><a _ngcontent-ckc-c20="" href="https://twitter.com/barais" target="_blank"><fa-stack _ngcontent-ckc-c20="" size="lg" class="fa-lg fa-stack"><fa-icon _ngcontent-ckc-c20="" stackitemsize="2x" class="ng-fa-icon fa-stack-2x"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-stack-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"></path></svg></fa-icon><fa-icon _ngcontent-ckc-c20="" stackitemsize="1x" class="ng-fa-icon fa-stack-1x fa-inverse"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-stack-1x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></fa-icon></fa-stack></a></li><li _ngcontent-ckc-c20="" class="list-inline-item"><a _ngcontent-ckc-c20="" href="http://scholar.google.fr/citations?user=LV5i8X4AAAAJ&amp;hl=en" target="_blank"><fa-stack _ngcontent-ckc-c20="" size="lg" class="fa-lg fa-stack"><fa-icon _ngcontent-ckc-c20="" stackitemsize="2x" class="ng-fa-icon fa-stack-2x"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-stack-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"></path></svg></fa-icon><fa-icon _ngcontent-ckc-c20="" stackitemsize="1x" class="ng-fa-icon fa-stack-1x fa-inverse"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="google" class="svg-inline--fa fa-google fa-stack-1x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512"><path fill="currentColor" d="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"></path></svg></fa-icon></fa-stack></a></li><li _ngcontent-ckc-c20="" class="list-inline-item"><a _ngcontent-ckc-c20="" href="https://www.facebook.com/obarais" target="_blank"><fa-stack _ngcontent-ckc-c20="" size="lg" class="fa-lg fa-stack"><fa-icon _ngcontent-ckc-c20="" stackitemsize="2x" class="ng-fa-icon fa-stack-2x"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-stack-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"></path></svg></fa-icon><fa-icon _ngcontent-ckc-c20="" stackitemsize="1x" class="ng-fa-icon fa-stack-1x fa-inverse"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" class="svg-inline--fa fa-facebook-f fa-stack-1x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></fa-icon></fa-stack></a></li><li _ngcontent-ckc-c20="" class="list-inline-item"><a _ngcontent-ckc-c20="" href="https://github.com/barais" target="_blank"><fa-stack _ngcontent-ckc-c20="" size="lg" class="fa-lg fa-stack"><fa-icon _ngcontent-ckc-c20="" stackitemsize="2x" class="ng-fa-icon fa-stack-2x"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-stack-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"></path></svg></fa-icon><fa-icon _ngcontent-ckc-c20="" stackitemsize="1x" class="ng-fa-icon fa-stack-1x fa-inverse"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-stack-1x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></fa-icon></fa-stack></a></li><li _ngcontent-ckc-c20="" class="list-inline-item"><a _ngcontent-ckc-c20="" href="http://www.linkedin.com/in/olivierbarais" target="_blank"><fa-stack _ngcontent-ckc-c20="" size="lg" class="fa-lg fa-stack"><fa-icon _ngcontent-ckc-c20="" stackitemsize="2x" class="ng-fa-icon fa-stack-2x"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle fa-stack-2x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"></path></svg></fa-icon><fa-icon _ngcontent-ckc-c20="" stackitemsize="1x" class="ng-fa-icon fa-stack-1x fa-inverse"><svg role="img" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-stack-1x" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></fa-icon></fa-stack></a></li></ul><p _ngcontent-ckc-c20="" class="small text-center text-muted fst-italic">Copyright © Olivier Barais 2021</p></div></div></div></footer></sb-footer></sb-layout-blog><!----></sb-teaching><!----></app-root>
<script id="ScullyIO-transfer-state"></script><script src="runtime.b67fcc93b137ad73.js" type="module"></script><script src="polyfills.5986c051752d98bd.js" type="module"></script><script src="main.eca34223a1f06b11.js" type="module"></script>

</body></html>